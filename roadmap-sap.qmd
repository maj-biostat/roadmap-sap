---
title: Statistical Analysis Plan
subtitle: |
    ROADMAP: RandOmised Arthroplasty infection worlDwide Multidomain Adaptive Platform trial
description: |
    Investigator initiated, Randomised Embedded Multifactorial Adaptive Platform (REMAP) trial, conducted across multiple hospitals in several regions of the world.
date: last-modified
date-format: "D MMMM YYYY"
author: 
  - name: Mark Jones
    id: mj
    email: mark.jones1@sydney.edu.au
  - name: James Totterdell
    id: jt
    email: james.totterdell@sydney.edu.au
version: 0.1
sponsor: University of Newcastle, NSW, Australia
protocol-number: Version 1.1  01AUG2024
registration: todo
hrec: todo
ci1: Professor Joshua Davis  
ci2: Professor Laurens Manning
editor: source
bibliography: etc/refs.bib
csl: etc/elsevier-harvard.csl
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE
)
```

```{r, echo = F}
#| echo: false

# uml digs
suppressPackageStartupMessages(library(nomnoml))
suppressPackageStartupMessages(library(ggplot2))
suppressPackageStartupMessages(library(data.table))
suppressPackageStartupMessages(library(kableExtra))
suppressPackageStartupMessages(library(qs))
suppressPackageStartupMessages(library(git2r))
```

{{< pagebreak >}}

::: summary
|     |        |
|:----|:------------|
|Study title:  |  ROADMAP: RandOmised Arthroplasty infection worlDwide Multidomain Adaptive Platform trial |
|Intervention: |  Surgery type, backbone antibiotic duration, extended prophylaxis, antibiotic type |   
|Study design:  |   Randomised Embedded Multifactorial Adaptive Platform trial | 
|Sponsor:  |    University of Newcastle, NSW, Australia | 
Protocol: |  Version 1.1  01AUG2024 |
|Registration:  |    TODO | 
|HREC:  |   TODO | 
|Study date of first consent:  |   TODO | 
|Principal coordinating investigators:  |   Professor Joshua Davis  and Professor Laurens Manning | 
:::

<!-- 
Note that the above relies on the pandoc extension implemented in the lua file 
in the etc directory. It additionally relies on the presence of a custom style
in word called study summary. It will currently only work for word (because I
cannot be bothered to implement it in anything else at the moment).
-->


{{< pagebreak >}}

# Version history {.unlisted .unnumbered}

| Version    |   Date     | Change    |   Reason     |
|:----|:------------|:----|:------------|
| 0.1 | 9/2024 | First version | N/A |


{{< pagebreak >}}

# Repository status {.unlisted .unnumbered}

```{r}
#| echo: false
repo <- repository(path = ".")
summary(repo)
```


{{< pagebreak >}}

# Introduction

ROADMAP is a project for evaluating the efficacy of a range of interventions used in the treatment of prosthetic joint infection (PJI) and is primarily intended to inform clinical decision making at point of care. 
It is an international study run in Australia, New Zealand, Canada and the UK with multiple partners from the academia sector and is intended to be a perpetual platform, implying a single Master Protocol dictating the study conduct. 
Each domain-level combination of interventions that enter the platform study is documented within separate Domain Specific Appendix (DSA) to the Master Protocol. 
Conclusions and reports will be produced separately even though some placebo treated participants may contribute to several of the reports.
All DSAs will be evalauated under a single model specification.


## Background motivating research question(s)

ROADMAP is motivated by several high-level questions related to the management of artificial joint infections^[Italics in the bullet list indicate updates that might be required for protocol.], specifically:

1. For *late-acute* post-operative infections, is it better to keep the existing artificial joint and clean the infection or to replace the joint entirely?
2. What is the most effective duration of backbone antibiotics after *one-stage revision* surgery?
3. Is it better to include rifampicin in the backbone antibiotic treatment regimen?

## Objectives, endpoints and estimands

The main objective of the ROADMAP trial is to examine the effect of a range of interventions in patients with PJI (defined by the eligibility criteria) on treatment success where 
this is defined as the patient being alive with clinical cure, not taking antibiotics for PJI and with the destination prothesis in place and is assessed at 12 months.
@tbl-obj provides a summary of the domain-level objectives and further detail can be found in the protocol.

| Domain | Objective    |   Endpoint     |
|:----|:----|:------------|
| Surgical | Determine whether revision (one or two-stage) is more effective than debridement in curing prosthetic joint infections in late-silo units.  | Treatment success at 12 months (alive, clinical cure, no antibiotics for PJI, destination prothesis in place). |
| Antibiotic duration | Determine whether 6 weeks of backbone antibiotic is non-inferior to 12 weeks in curing prosthetic joint infections in units receiving one-stage revision. | Treatment success at 12 months. |
| Extended prophylaxis | Determine whether 12 weeks of ext-prophylaxis is more effective than none in curing prosthetic joint infections in units receiving two-stage revision. | Treatment success at 12 months. |
| Antibiotic choice | Determine whether the addition of rifampicin is more effective than not in curing prosthetic joint infections in units where one or more of the causative organisms is Gram-positive of interest (or infection is culture negative). | Treatment success at 12 months. |

: ROADMAP domain-level analytic objectives {#tbl-obj tbl-colwidths="[20,45,35]"}


The estimands are detailed in the protocol (references below correspond to those in the protocol).
Estimands emphasise what is being estimated rather than how the estimation is undertaken.
Below we add detail to the specification provided in the protocol with a focus on the interventions, population summaries and intercurrent events in an attempt to further clarify what is being estimated.


### Primary estimand {#sec-html-tables}

See estimand A.1 in the master protocol, which has been extended to classify each comparison.
A.1 approximates a *"pure-ITT"* approach in that all ICEs are currently handled by a treatment policy strategy.
However, the outcome definition encapsulates a composite strategy for death and replacement of desination prothesis ICEs.
Nevertheless, the additional detail is provided as it may be useful for context as the treatment policy strategy has particular consequences, especially when non-inferiority is a quantity of interest.

::: {.callout-note}
While death (occurring prior, during or after the occurrence of the intervention) would ordinarily be considered an intercurrent event in this setting, it has been accounted for by its inclusion in the primary outcome definition, i.e. we implicitly adopt a composite strategy for death.
Similarly, secondary or rescue surgery leading to the removal of a prosthetic is accounted for by its inclusion in the primary outcome definition, again being handled via a composite strategy.  

Each of the treatment specific ICEs detailed may occur for a given unit in isolation or in conjunction with ICEs associated with treatment arms in other domains, e.g. a patient switches from DAIR to revision due to loose joint and discontinues extended prophylaxis due to adverse reaction.
In such instances, the ICEs are still handled by their applicable strategy for the estimand under consideration.
However, in instances where multiple ICEs (e.g. adverse event followed by discontinuation due to relocation) occur within a given unit for a given treatment, the approach for handling them may be vaguely defined.
:::

#### Estimand A.1.1 (surgical intervention)

**High-level overview:**

The estimand considers the effect of removing the infected joint relative to cleaning and leaving in place on treatment success at 12 months.

**Treatment condition:**

The protocol definitions of the interventions are provided in the DSA for the Surgical strategy domain (late acute silo).
These definitions give the detail on the setting and what needs to occur for each interventions for it to be considered to align with the protocol.
For example, at a minimum and amongst other things, debridement and implant retentioin (DAIR) must include an open approach, exchange of modular components.
The randomised treatment arms comprise DAIR and revision with the clinician permitted to self-select the type of revision (one or two-stage) to be used when a patient is assigned to the revision group.
Likely intercurrent events and the approaches used to handle them are summarised in @tbl-ice1 where the treatment policy ICE strategy aims to establish the effect of initially randomised treatment.

::: {.callout-note}
Other ICEs are probably relevant such as withdrawal due to clinician perspective on patient best interest with regards to involvement in roadmap. However,  it may be acceptable to continue to collect data on such a patient, in which case the treatment policy would still be acceptable. Deviations from assigned treatment in terms of variations in procedures per the protocol definitions but not leading to switching would also constitute an ICE that impact the interpretation of the treatment effects. An example of this may be secondary surgery that does not lead to replacement of prosthetic, i.e. not handled via the composite strategy. Another example may be deviation from any protocol timings (are there any, e.g. is a dair at 1 week after randomisation the same as a dair 10 weeks after randomisation?) for the surgery to take place. These would also be handled via treatment policy.
:::

| ID | Arm |   ICE     |  Class | Strategy | 
|:----:|:----|:------------|:------------|:------------|
| A.1.1(i1) | DAIR  | If prosthesis is found to be loose when the joint is opened, the surgeon would routinely override allocation and do a revision. | Switchover | Treatment policy |
| A.1.1(i2) | Revision  | If the patient becomes clinically unstable prior to or during the operation, the surgeon may abandon the attempt at revision and revert to a DAIR. | Switchover | Treatment policy |
| A.1.1(i3) | Revision  | If one or more components of the prosthesis are too difficult to remove, the surgeon may abandon the attempt at revision and revert to a DAIR. This is more likely with a non-cemented hip than with a cemented hip or a knee. | Switchover | Treatment policy |

: Surgery domain intercurrent events {#tbl-ice1 tbl-colwidths="[8,8,50,17,17]" .striped}

Under a treatment policy strategy, the treatment regimen considered is, in fact, the initial randomized treatment with discontinuation or switch of treatment and/or alterations in background therapy, changes in medication and rescue therapy at any point in time.
As such, this ICE strategy is not associated with a specific single treatment regimen, but rather yields a view of the average effects of a mix of regimens aligned to those that commonly occur in practice when undertaking DAIR or revision.

Switchover will not generally result in the outcome variable being missing (assuming the patient followup continues to completion) but does affect the interpretation of the result due to dilution of the treatment effect.
For example, in a two-arm trial, if the majority of units assigned to the first treatment switched over to the second treatment and none of the units assigned to the second treatment switched then an ITT/treatment policy approach would be comparing groups of units that effectively received the same treatment.

**Population summary:**

The population-level summary measure is the conditional odds ratio for revision relative to DAIR.

**Data useful for estimand:**

It is important that units continue to be followed up after the occurrence of an ICE.

**Main estimator:**

A single Bayesian multivariable (factorial) logistic model is used to characterise unit responses for the primary outcome across all domains with further detail provided in later sections.

Given the structure of the study, specifically, the desire to permit clinicians free choice of revision type and the dependency between specific revision types and entry into the antibiotic duration and extended prophylaxis domain, the population-level summary is constructed as a weighted conditional log odds ratio where the weights adopted would be those observed in the study sample.

**Missing data:**

Missing data is possible/inevitable(?) due to inability to identify clinical records, formal requests to completely withdraw from the study (including use of data), loss to follow up due to relocation.
Additionally, components of the composite outcome may not be available in the clinical records (e.g. ongoing use of antibiotic).
Missingness is assumed to likely be low and at random across all variables and variable components.
Under these assumptions, missingness imputation is not technically required and a complete-case analysis will yield unbiased estimates providing the missingness is not simultaneously dependent on the outcome and exposure.
As such, imputation will not be adopted for the primary outcome variable.
Where it exists, missingness in covariates will be addressed by deduction (where possible) or fixed imputation scheme (if reasonable).

**Sensitivity:**

Tipping point sensitivity analysis may be considered.
Multiple imputation may be implemented.

#### Estimand A.1.2 (antibiotic duration intervention)

**High-level overview:**

The estimand considers the effect of the duration of backbone antibiotics on treatment success at 12 months, specifically whether 6 weeks of backbone antibiotic is non-inferior to 12 weeks in patients receiving one-stage revision.

**Treatment condition:**

The protocol definitions of the interventions are provided in the DSA for the Antibiotic duration domain following single stage revision.
Potential intercurrent events and the approaches used to handle them are summarised in @tbl-ice2 where the treatment policy ICE strategy aims to establish the effect of initially randomised treatment.

| ID | Arm |   ICE     |  Class | Strategy | 
|:----:|:----|:------------|:------------|:------------|
| A.1.2(i1) | 6 wk  | If patient has slow improvement, recrudescence of infection or need to return to theatre then clinicians may choose to prolong antibiotic therapy. | Extended therapy | Treatment policy |
| A.1.2(i2) | 12 wk  | Adverse effects of antibiotics or patient discharge/relocation may lead to early termination of therapy. | Discontinuation | Treatment policy |

: Antibiotic duration domain intercurrent events {#tbl-ice2 tbl-colwidths="[8,8,50,17,17]" .striped}

Extended therapy in the 6 week group would make the responses more similar to the 12 week group leading to increase likelihood of non-inferiority decision, i.e. conclusions may anti-conservative. 
Equally, early termination in the 12 week group would make the responses more similar to the 6 week group.

**Population summary:**

The population-level summary measure is the conditional odds ratio for 6 weeks backbone antibiotic relative to 12 weeks.

Other sections are as above.



#### Estimand A.1.3 (extended prophylaxis intervention)

**High-level overview:**

The estimand considers the effect of the extended prophylaxis on treatment success at 12 months, specifically whether 12 weeks of backbone antibiotic is more effective than none following the second stage of the revision procedure in patients receiving two-stage revision.

**Treatment condition:**

The protocol definitions of the interventions are provided in the DSA for the Antibiotic duration domain (extended prophylaxis) following a two-stage revision
Potential intercurrent events and the approaches used to handle them are summarised in @tbl-ice3 where the treatment policy ICE strategy aims to establish the effect of initially randomised treatment.

| ID | Arm |   ICE     |  Class | Strategy | 
|:----:|:----|:------------|:------------|:------------|
| A.1.3(i1) | None  | If the patient has slow improvement, recrudescence of infection or need to return to theatre then clinicians may choose to prolong antibiotic therapy. | Extended therapy | Treatment policy |
| A.1.3(i2) | None  | If the patient shows late positive culture, they would become ineligible and would receive additional backbone antibiotic. | Extended therapy | Treatment policy |
| A.1.3(i3) | 12 wk  | Adverse effects of antibiotics or patient discharge/relocation may lead to early termination of therapy. | Discontinuation | Treatment policy |

: Extended prophylaxis domain intercurrent events {#tbl-ice3 tbl-colwidths="[8,8,50,17,17]" .striped}

::: {.callout-note}
Clarify A.1.3(i2), is it additional backbone ab? Would they continue to receive ext prophylaxis even though now ineligible?
:::

Extended therapy in the 6 week group would make the responses more similar to the 12 week group leading to increase likelihood of non-inferiority decision, i.e. conclusions may anti-conservative. 
Equally, early termination in the 12 week group would make the responses more similar to the 6 week group.

**Population summary:**

The population-level summary measure is the conditional odds ratio for 12 weeks extended prophylaxis relative to none.

Other sections are as above.


#### Estimand A.1.4 (choice intervention)

**High-level overview:**

The estimand considers the effect of the antibiotic choice on treatment success at 12 months, specifically whether the use of rifampicin is more effective than none for domain eligible units.

**Treatment condition:**

The protocol definitions of the interventions are provided in the DSA for the Antibiotic choice domain.
Potential intercurrent events and the approaches used to handle them are summarised in @tbl-ice4 where the treatment policy ICE strategy aims to establish the effect of initially randomised treatment.

| ID | Arm |   ICE     |  Class | Strategy | 
|:----:|:----|:------------|:------------|:------------|
| A.1.4(i1) | None  | If the patient has slow improvement (e.g. 1-4 weeks post operatively), clinicians may add rifampicin despite assignment. | Switchover | Treatment policy |
| A.1.4(i2) | Rifampicin  | If the site pharmacy runs out of or does not have any rifampicin in stock may lead to early termination or non-receipt of therapy. | Discontinuation or non-receipt | Treatment policy |
| A.1.4(i3) | Rifampicin  | Adverse effects of rifampicin (intractable nausea, severe hepatitis) may lead to early termination of therapy. | Discontinuation | Treatment policy |

: Choice domain intercurrent events {#tbl-ice4 tbl-colwidths="[8,11,50,17,15]" .striped}

::: {.callout-note}
Clarify A.1.4(i1), would this still constitute switchover after the delayed start (or rescue)?
Clarify A.1.3(i2), is it additional backbone ab? Would they continue to receive ext prophylaxis even though now ineligible?

As with other domains, patient discharge/relocation is probably relevant.
:::

Both discontinuation/non-receipt of rifampicin or addition of rifampicin to the the control group make groups more similar than they otherwise would be. 

**Population summary:**

The population-level summary measure is the conditional odds ratio for rifampicin relative to none.

Other sections are as above.

## Study design

ROADMAP is an investigator-initiated, phase IV (open label), multicentre, pragmatic, randomised embedded multifactorial adaptive platform (REMAP) formulated to investigate the efficacy of multiple study interventions simultaneously in cohorts of patients with confirmed or likely prosthetic joint infection in a large joint (hip, knee) with no age restriction.
ROADMAP includes the development of a registry, however, that will not be discussed here.

Bayesian methods were selected for gains model flexibility, ease of uncertainty quantification and incorparating adaptive elements, regularisation of parameter estimates and simplicity in interpretation.

Initial treatment modality groups (domains) examine surgery type, antibiotic duration, extended prophylaxis and antibiotic choice.
New interventions are permitted to enter into existing domains and new domains are also permitted subject to steering committee and ethics review.

ROADMAP will be conducted sequentially (cohorts of 500 patients) with decision rules evaluated on parameter estimates of interest, driving domain-level stopping rules and platform conclusions.
Early stopping is permitted under pre-specified conditions, specifically for superiority, non-inferiority and futility as applicable to the given domain.

### Randomisation

Units will be randomised (under fixed complete randomisation, i.e. non-adaptive and without restriction through blocking or stratification etc) to one arm within each domain for which they are eligible [@Rosenberger2016].
However, given that entry into two of the domains are dependent on the status of the surgical intervention, some subtleties arise.
For example, only units in receipt of one-stage revision can enter into randomised assignment for antibiotic duration and which prevents entry into extended prophylaxis.
Similarly, only units in receipt of two-stage revision can enter into randomised assignment for extended prophylaxis. 
A practical way to operationalise this is to simply randomise each unit to all available domains and then reveal the allocation as necessary.
For example, a unit within any of the early, late or chronic silo would be allocated interventions for all domains.
However, for early silo units, the surgical interventions are irrelevant and so never revealed, the antibiotic duration interventions would only be revealed if one-stage was received, the extended prophylaxis would only be revealed if two-stage was received and so on.

### Sample size

The initial trial funding and infrastructure has sufficient resources to enrol up to 2,500 participants into the platform.
Thus, the sample size is initially constrained by the current resources and the desired structure, however, the study is intended to be perpetual and will seek funding to ensure recruitment beyond the initial sample size if necessary.
Implications of the initial sample size on the amount of uncertainty that can be resolved under assumptions about the cohort population, the present design and assumed effects have been evaluated by simulation, see results later.

### Data management

An overview is provided in the Master Protocol.
However, we note that the data storage approach will be decomposed into redcap components and (out-sourced) spiral platform components, the latter also being responsible for the randomisation processes.

::: {.callout-note}
Check on how this functionality is being decomposed. 
What are the redcap parts and what belongs to spiral?
:::

# Statistical principles

## Analysis sets

The intent to treat (ITT) principle covers what units to include and what data to include on each unit.
A strict interpretation of ITT demands collection and analysis of all data, but deviations from this are routinely accepted.

Estimand A.1.* approximates an ITT view and the analysis population used for this estimand will include all units that were randomised and revealed to at least one of the domain-level interventions and have passed the primary endpoint of 12-months with their primary endpoint status known or known to be missing.
Per the treatment policy strategy, all randomised patients will be included and analysed according to the regimen to which they were initially allocated irrespective of any deviations from this regimen or any other protocol deviations.

Participants that have reached follow up, but for whom information has not yet been gathered will be treated as missing until the data has been entered.
Participants who have been randomised, but have not yet reached the primary endpoint, will be excluded.



## Description

Consort

screening

eligibility

recruitment

withdrawal (level of withdrawal)

baseline characteristics

## Sequential analyses


## Primary analysis

what methods used, how will the trt effects be presented

priors

adjustment for cov

missing data

assumption checks

variations



sensitivity

subgroups



## Secondary analyses

## Estimation

Bayesian 

## Missing data


## Software

versions etc

# Statistical quantities

# Decision processes


# Adaptation


# Simulation results

## Enrolment progression at sequential analyses


# References

<!-- Needs to have a citation for this to work otherwise you will get the old \end{CSLReferences} error  -->

::: {#refs}
:::
